#!/bin/bash

echo "Results on Dev dataset (part of Train dataset):"
echo "------------------------------------------------"

for x in exp/{mono,tri,sgmm,dnn,combine}*/decode*dev*; do [ -d $x ] && echo $x | grep "${1:-.*}" >/dev/null && grep WER $x/wer_* 2>/dev/null | utils/best_wer.sh; done
for x in exp/{mono,tri,sgmm,dnn,combine}*/decode*dev*; do [ -d $x ] && echo $x | grep "${1:-.*}" >/dev/null && grep Sum $x/score_*/*.sys 2>/dev/null | utils/best_wer.sh; done

echo
echo "Results on Test dataset:"
echo "------------------------------------------------"

for x in exp/{mono,tri,sgmm,dnn,combine,nnet3/tdnn_sp,chain/tdnn_sp_bi}*/decode*test*; do [ -d $x ] && echo $x | grep "${1:-.*}" >/dev/null && grep WER $x/wer_* 2>/dev/null | utils/best_wer.sh; done
for x in exp/{mono,tri,sgmm,dnn,combine,nnet3/tdnn_sp,chain/tdnn_sp_bi}*/decode*test*; do [ -d $x ] && echo $x | grep "${1:-.*}" >/dev/null && grep Sum $x/score_*/*.sys 2>/dev/null | utils/best_wer.sh; done


exit 0

Train set: 1250 audio files.
Dev set: 200 audio files (part of train test).
Test set: 820 audio files.

Results on Dev dataset (part of Train dataset):
------------------------------------------------
%WER 26.5 | 200 1748 | 81.0 16.7 2.3 7.6 26.5 77.0 | -1.039 | exp/mono/decode_dev/score_7/ctm.filt.sys
%WER 9.4 | 200 1748 | 95.3 4.1 0.6 4.7 9.4 30.5 | -1.348 | exp/tri1/decode_dev/score_10/ctm.filt.sys
%WER 10.0 | 200 1748 | 95.1 4.4 0.5 5.0 10.0 30.0 | -1.940 | exp/tri2/decode_dev/score_10/ctm.filt.sys
%WER 8.8 | 200 1748 | 96.1 3.5 0.4 4.9 8.8 26.0 | -1.920 | exp/tri3/decode_dev/score_10/ctm.filt.sys
%WER 15.3 | 200 1748 | 92.6 6.9 0.5 7.9 15.3 40.0 | -2.549 | exp/tri3/decode_dev.si/score_10/ctm.filt.sys
%WER 11.0 | 200 1748 | 93.1 5.8 1.0 4.1 11.0 42.5 | -0.417 | exp/tri4_nnet/decode_dev/score_9/ctm.filt.sys
%WER 8.8 | 200 1748 | 96.1 3.5 0.3 4.9 8.8 25.0 | -2.320 | exp/sgmm2_4/decode_dev/score_10/ctm.filt.sys
%WER 8.6 | 200 1748 | 96.5 3.4 0.1 5.1 8.6 22.0 | -2.947 | exp/sgmm2_4_mmi_b0.1/decode_dev_it1/score_5/ctm.filt.sys
%WER 8.6 | 200 1748 | 96.6 3.4 0.1 5.2 8.6 21.5 | -3.108 | exp/sgmm2_4_mmi_b0.1/decode_dev_it2/score_3/ctm.filt.sys
%WER 8.6 | 200 1748 | 96.6 3.4 0.1 5.2 8.6 21.5 | -3.107 | exp/sgmm2_4_mmi_b0.1/decode_dev_it3/score_3/ctm.filt.sys
%WER 8.6 | 200 1748 | 96.3 3.5 0.1 5.0 8.6 23.0 | -2.278 | exp/sgmm2_4_mmi_b0.1/decode_dev_it4/score_10/ctm.filt.sys
%WER 8.1 | 200 1748 | 96.3 3.3 0.3 4.5 8.1 24.0 | -0.160 | exp/combine_2/decode_dev_it1/score_4/ctm.filt.sys
%WER 8.1 | 200 1748 | 96.3 3.4 0.3 4.5 8.1 24.5 | -0.155 | exp/combine_2/decode_dev_it2/score_4/ctm.filt.sys
%WER 8.1 | 200 1748 | 96.3 3.4 0.3 4.4 8.1 23.5 | -0.139 | exp/combine_2/decode_dev_it3/score_5/ctm.filt.sys
%WER 8.1 | 200 1748 | 96.3 3.4 0.3 4.4 8.1 24.0 | -0.138 | exp/combine_2/decode_dev_it4/score_5/ctm.filt.sys

Results on Test dataset:
------------------------------------------------
%WER 35.1 | 820 7043 | 74.7 21.9 3.4 9.9 35.1 81.6 | -0.803 | exp/mono/decode_test/score_9/ctm.filt.sys
%WER 30.3 | 820 7043 | 82.7 15.9 1.4 13.0 30.3 73.7 | -1.697 | exp/tri1/decode_test/score_10/ctm.filt.sys
%WER 31.4 | 820 7043 | 84.0 14.7 1.3 15.4 31.4 73.2 | -2.189 | exp/tri2/decode_test/score_10/ctm.filt.sys
%WER 24.6 | 820 7043 | 87.4 11.2 1.4 12.0 24.6 61.0 | -2.463 | exp/tri3/decode_test/score_10/ctm.filt.sys
%WER 39.1 | 820 7043 | 79.8 18.8 1.4 18.9 39.1 76.7 | -3.421 | exp/tri3/decode_test.si/score_10/ctm.filt.sys
%WER 17.0 | 820 7043 | 88.2 9.9 1.9 5.3 17.0 58.7 | -0.473 | exp/tri4_nnet/decode_test/score_9/ctm.filt.sys
%WER 23.2 | 820 7043 | 88.2 10.6 1.2 11.4 23.2 59.9 | -2.481 | exp/sgmm2_4/decode_test/score_10/ctm.filt.sys
%WER 23.3 | 820 7043 | 88.2 10.7 1.2 11.4 23.3 60.1 | -2.497 | exp/sgmm2_4_mmi_b0.1/decode_test_it1/score_10/ctm.filt.sys
%WER 23.3 | 820 7043 | 88.2 10.7 1.2 11.5 23.3 60.1 | -2.492 | exp/sgmm2_4_mmi_b0.1/decode_test_it2/score_10/ctm.filt.sys
%WER 23.3 | 820 7043 | 88.2 10.7 1.2 11.4 23.3 60.0 | -2.499 | exp/sgmm2_4_mmi_b0.1/decode_test_it3/score_10/ctm.filt.sys
%WER 23.2 | 820 7043 | 88.2 10.6 1.2 11.4 23.2 59.9 | -2.504 | exp/sgmm2_4_mmi_b0.1/decode_test_it4/score_10/ctm.filt.sys
%WER 19.9 | 820 7043 | 88.7 9.7 1.6 8.7 19.9 57.2 | -2.444 | exp/dnn4_pretrain-dbn_dnn/decode_test/score_11/ctm.filt.sys
%WER 19.9 | 820 7043 | 88.9 9.6 1.5 8.8 19.9 57.4 | -2.386 | exp/dnn4_pretrain-dbn_dnn_smbr/decode_test_it1/score_10/ctm.filt.sys
%WER 20.0 | 820 7043 | 88.8 9.8 1.4 8.8 20.0 57.1 | -2.433 | exp/dnn4_pretrain-dbn_dnn_smbr/decode_test_it6/score_10/ctm.filt.sys
%WER 18.0 | 820 7043 | 89.5 9.1 1.3 7.6 18.0 57.3 | 0.042 | exp/combine_2/decode_test_it1/score_10/ctm.filt.sys
%WER 18.0 | 820 7043 | 89.5 9.1 1.3 7.5 18.0 57.4 | 0.042 | exp/combine_2/decode_test_it2/score_10/ctm.filt.sys
%WER 18.1 | 820 7043 | 89.5 9.2 1.3 7.6 18.1 57.4 | 0.045 | exp/combine_2/decode_test_it3/score_10/ctm.filt.sys
%WER 18.0 | 820 7043 | 89.5 9.2 1.3 7.5 18.0 57.2 | 0.042 | exp/combine_2/decode_test_it4/score_10/ctm.filt.sys
%WER 18.5 | 820 7043 | 87.9 9.4 2.7 6.4 18.5 60.2 | -0.920 | exp/nnet3/tdnn_sp/decode_test/score_10/ctm.filt.sys


---------------------------------------------------------------------------------
Results on phoneme-based recipe:

%WER 23.7 | 820 37540 | 77.5 13.6 9.0 1.2 23.7 100.0 | -0.557 | exp/mono/decode_test/score_5/ctm.filt.sys
%WER 17.9 | 820 37540 | 84.2 10.4 5.5 2.1 17.9 99.6 | -0.453 | exp/tri1/decode_test/score_9/ctm.filt.sys
%WER 16.0 | 820 37540 | 86.1 9.1 4.8 2.0 16.0 99.1 | -0.667 | exp/tri2/decode_test/score_9/ctm.filt.sys
%WER 12.6 | 820 37540 | 88.9 7.0 4.1 1.5 12.6 98.7 | -0.702 | exp/tri3/decode_test/score_9/ctm.filt.sys
%WER 15.3 | 820 37540 | 86.6 9.0 4.5 1.8 15.3 98.7 | -0.567 | exp/tri3/decode_test.si/score_9/ctm.filt.sys
%WER 14.0 | 820 37540 | 87.6 7.4 4.9 1.6 14.0 98.4 | -0.743 | exp/tri4_nnet/decode_test/score_4/ctm.filt.sys
%WER 11.1 | 820 37540 | 90.3 6.0 3.7 1.4 11.1 96.6 | -0.532 | exp/sgmm2_4/decode_test/score_8/ctm.filt.sys
%WER 11.1 | 820 37540 | 90.5 6.0 3.6 1.5 11.1 97.1 | -0.552 | exp/sgmm2_4_mmi_b0.1/decode_test_it1/score_8/ctm.filt.sys
%WER 11.1 | 820 37540 | 90.5 6.0 3.5 1.6 11.1 97.1 | -0.552 | exp/sgmm2_4_mmi_b0.1/decode_test_it2/score_8/ctm.filt.sys
%WER 11.1 | 820 37540 | 90.5 6.0 3.5 1.6 11.1 97.4 | -0.567 | exp/sgmm2_4_mmi_b0.1/decode_test_it3/score_8/ctm.filt.sys
%WER 11.1 | 820 37540 | 90.5 6.0 3.5 1.6 11.1 97.6 | -0.560 | exp/sgmm2_4_mmi_b0.1/decode_test_it4/score_8/ctm.filt.sys
